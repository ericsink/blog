<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Rename</title><link rel="stylesheet" type="text/css" href="vcbe.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="Version Control by Example"><link rel="up" href="veracity_example.html" title="Chapter 10. Basics with Veracity"><link rel="prev" href="ch10s06.html" title="Move"><link rel="next" href="ch10s08.html" title="Delete"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Rename</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch10s06.html">Prev</a> </td><th width="60%" align="center">Chapter 10. Basics with Veracity</th><td width="20%" align="right"> <a accesskey="n" href="ch10s08.html">Next</a></td></tr></table><hr></div><div class="section" title="Rename"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp2412592"></a>Rename</h2></div></div></div>
    

    <p>Harry decides the time has come to create a proper
        <code class="filename">Makefile</code>.  And also to gratuitously <a class="indexterm" name="idp2501952"></a>rename
<code class="filename">lottery.c</code>.</p>

<pre class="screen"><span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery harry$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv add Makefile</span>

<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery harry$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv rename src/lottery.c pb.c</span>

<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery harry$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv st</span>
   Added:  @/Makefile
 Renamed:  @/src/pb.c
        # was lottery.c
   Found:  @/a.out
   Found:  @/pb
</pre>

<table xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" align="center" border="0" style="width:350px"><tr><td background="images/eric_aside_04.jpg" style="font-style:italic; padding-left:0.375in; padding-right:0.375in; padding-top:0.25in; padding-bottom:0.25in">
    <p>
        Note that Veracity has separate commands for <span class="sg-operation">rename</span> and <span class="sg-operation">move</span>.  Its
        architecture treats the name of the file as a distinct attribute from
        the directory in which it resides.
    </p>
</td></tr></table>

<pre class="screen"><span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery harry$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv commit -m "Makefile. and lottery.c was too long to type."</span>

    revision:  12:674a480f641b6f206fac2aad1751ae44946a80f6
      branch:  master
         who:  harry
        when:  2011/05/31 10:58:49.906 -0500
     comment:  Makefile. and lottery.c was too long to type.
      parent:  11:3cc62d4c79e2f3a94bb2731e84d2304a10760938

<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery harry$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv push</span>
Pushing to http://server.futilisoft.com:8080/repos/lottery:
Pushing... Done.                                                               
</pre>

<p>Sally maintains her momentum with <code class="code">#define</code> and adds names for the ball ranges.</p>

<pre class="screen"><span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery sally$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv diff</span>
=== ================
===   Modified: File @/lottery.c
--- @/src/lottery.c 4da6892d436bbab66c980639d3c975cc2da28f99
+++ @/src/lottery.c 2011/05/31 15:59:47.000 +0000
@@ -3,6 +3,8 @@
 #include &lt;stdlib.h&gt;
 
 #define LUCKY_NUMBER 7
<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_diff_add">+#define MAX_WHITE_BALL 59</span>
<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_diff_add">+#define MAX_POWER_BALL 39</span>
 
 int calculate_result(int white_balls[5], int power_ball)
 {
@@ -10,7 +12,7 @@
     {
         if (
              (white_balls[i] &lt; 1)
<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_diff_del">-             || (white_balls[i] &gt; 59)</span>
<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_diff_add">+             || (white_balls[i] &gt; MAX_WHITE_BALL)</span>
            )
         {
             return -1;
@@ -19,7 +21,7 @@
 
     if (
          (power_ball &lt; 1)
<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_diff_del">-         || (power_ball &gt; 39)</span>
<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_diff_add">+         || (power_ball &gt; MAX_POWER_BALL)</span>
        )
     {
         return -1;
</pre>

<p>And commits her changes.</p>

<pre class="screen"><span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery sally$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv commit -m "more #defines"</span>

    revision:  12:d68d482736fecc60549110855becd2e0155f1ef5
      branch:  master
         who:  sally
        when:  2011/05/31 11:00:25.105 -0500
     comment:  more #defines
      parent:  11:3cc62d4c79e2f3a94bb2731e84d2304a10760938

<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery sally$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv push</span>
vv: Error 234 (sglib): The branch needs to be merged.
</pre>

<p>Grrr.  That Harry is dumber than a coal bucket.</p>

<pre class="screen"><span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery sally$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv pull</span>
Pulling from http://server.futilisoft.com:8080/repos/lottery:
Pulling... Done.                                                               

<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery sally$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv heads</span>

    revision:  13:674a480f641b6f206fac2aad1751ae44946a80f6
      branch:  master
         who:  harry
        when:  2011/05/31 10:58:49.906 -0500
     comment:  Makefile. and lottery.c was too long to type.
      parent:  11:3cc62d4c79e2f3a94bb2731e84d2304a10760938

    revision:  12:d68d482736fecc60549110855becd2e0155f1ef5
      branch:  master
         who:  sally
        when:  2011/05/31 11:00:25.105 -0500
     comment:  more #defines
      parent:  11:3cc62d4c79e2f3a94bb2731e84d2304a10760938

<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery sally$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv merge</span>
1 updated, 0 deleted, 1 added, 0 merged, 0 unresolved

<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery sally$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">make</span>
gcc -std=c99 -Wall -Wextra -Werror src/pb.c -o pb

<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery sally$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv commit -m "merge"</span>

    revision:  14:b11eaca1a7be8684069e9ce461f42f834acae344
      branch:  master
         who:  sally
        when:  2011/05/31 11:01:19.139 -0500
     comment:  merge
      parent:  13:674a480f641b6f206fac2aad1751ae44946a80f6
      parent:  12:d68d482736fecc60549110855becd2e0155f1ef5

<span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_prompt">lottery sally$</span> <span xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" class="screen_typed">vv push</span>
Pushing to http://server.futilisoft.com:8080/repos/lottery:
Pushing... Done.                                                               
</pre>



</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch10s06.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="veracity_example.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch10s08.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Move </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a> | <a accesskey="t" href="bk01-toc.html">ToC</a></td><td width="40%" align="right" valign="top"> Delete</td></tr></table></div><script xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24709512-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></body></html>
