---
layout: post
esbma_id: 1664
title: Poker or Citizen Kane?
date: 2007-04-26 18:41:02
keywords: wpf
---
<p>Modern developer tools have made it tremendously faster to
create what I call "raw code".&nbsp; Raw code is code that just got written.&nbsp; It
barely works.&nbsp; </p>

<p>In a professional setting, the problem is that raw code just
isn't very useful.&nbsp; It's the starting point, but we can't sell a product or
service based on raw code.&nbsp; Creating the initial raw code is maybe 10 percent
of the job.&nbsp; With modern dev tools, maybe that's down to 5 percent. &nbsp;Most of
our time is spent sanding and finishing and polishing.</p>

<p>But anyway, it's still just amazing how quickly we can use
today's dev tools to get something barely working.&nbsp; In fact, I sometimes think
of small coding projects in the same time frames as watching a movie.</p>

<p>A few weeks ago I saw an enticing little flash game on
Reddit.&nbsp; It's called <a href="http://www.rfshq.com/forum/games/virus2.swf">Virus</a>.&nbsp;
After playing it just a couple of times, I wished that it had a solver.&nbsp; It
took me 25 turns to win that round?&nbsp; How fast could a computer do it with 3
levels of look-ahead?</p>

<p>That night, the question was still nagging me.&nbsp; The kids are
in bed.&nbsp; My wife turned in early.&nbsp; Should I pop in a DVD and watch X-Men 3
again?&nbsp; Or, I wonder how quickly I could clone that Flash game?</p>

<p>My version is called Contagion.&nbsp; You can download a <a
href="/downloads/contagion_26apr2007.zip">zip file</a> which contains
the source code (C# and WPF) as well as a compiled binary.&nbsp; I had the game to a
playable state before X-Men 3 would have ended.&nbsp; </p>

<p>The next evening, I thought about watching Anakin get barbecued
for the ninth time, but instead I wrote the solver.</p>

<p>I've done a little polishing of the code since then, but
mostly this was a "two movie project".&nbsp; It's very raw code.&nbsp; (Gameplay notes:&nbsp;
In the original Flash game, your starting cell is in the lower left, but in
Contagion, it's in the upper left.&nbsp; Also, the Flash version had a scoring
system, a highlight of the first cell, and sound effects, none of which I felt
motivated to do.)</p>

<p>It happened again a couple of days ago.&nbsp; Tuesday evening I
planned to watch Citizen Kane, but first I grabbed my <a
href="http://en.wikipedia.org/wiki/Game_Boy_Advance">GBA</a> to play a quick
game of Texas Hold 'Em.&nbsp; And I found a bug!&nbsp; On one particular hand, I should
have tied for a share of the pot, but the game said I lost.&nbsp; <b>:-(</b></p>

<p>I stared at my Citizen Kane DVD.&nbsp; It's supposed to be one of
the greatest movies of all time, and I've never seen it.&nbsp; I really should watch
it, but I mean seriously -- how long can it take to write code that correctly
compares a couple of 7-card poker hands?</p>

<p><a href="/downloads/poker_26apr2007.zip">Not
that long</a>.&nbsp; This code (C# 2.0 again) is slightly less raw than Contagion,
since I included a few NUnit tests as well.&nbsp; But it's still quite rough.&nbsp; I
haven't checked, but I wouldn't be surprised if the ratio of code lines to
comment lines triggered a division by zero exception.</p>

<p>Anyway, I've got this raw code sitting around, so I figured
I might as well post it here.&nbsp; Enjoy!</p>

<p></p>
