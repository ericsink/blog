---
layout: default
esbma_id: 1785
title: Veracity:  The next step in DVCS
date: 2010-07-14 13:00:00
---
<p>One week from today, at the <a
href="http://www.oscon.com/oscon2010">O'Reilly Open Source Convention</a>,
SourceGear will be making a big announcement.&nbsp; Today I'm giving you an early
preview.&nbsp; We've been building something new.&nbsp; <b>:-)</b></p>

<ul style='margin-top:0in' type=disc>
 <li >It's called Veracity.</li>
 <li >It's a Distributed Version Control System (DVCS), somewhat
     like Mercurial or Git.</li>
 <li >It has some cool new capabilities no other DVCS has.</li>
 <li >It will be open source, released one week from today under
     the Apache License, Version 2.0.</li>
</ul>

<p>This project has been consuming the bulk of my time, and I
am glad to finally be able to write and speak about it.&nbsp; I'll have a lot to say
going forward, but for today I just want to answer some questions we anticipate
folks will be asking.</p>

<h2>Why build yet another DVCS?</h2>

<p>At OSCON next week we will be referring to Veracity as "the
next step in DVCS".&nbsp; This description may sound a bit audacious, but it
describes exactly what we have built Veracity to be.</p>

<p>Git, Mercurial and Bazaar are all great, but we don't think
they are the last word. This model of distributed development is the future of
our industry. Things are just getting started.&nbsp; We're building Veracity to push
forward.</p>

<p>So let me try to explain how our vision is different from
what is available from the popular DVCS tools today.</p>

<p>Please understand that my intent here is not to criticize
existing tools or start a war with their fans (especially because Veracity
needs to simmer a bit longer before it's ready). I simply know that the easiest
way to explain something new is to compare it to something well-known.</p>

<h3>Decentralized Database</h3>

<p>Veracity goes beyond versioning of directories and files to
provide management of records and fields, with full support for pushing,
pulling and merging database changesets, just like source tree changesets.</p>

<p>Veracity's decentralized, template-driven database is used
for all kinds of administrative data, including user accounts, tags, commit
messages, and history. This database is also the platform on which we are
building features like work item tracking.</p>

<h3>User accounts</h3>

<p>Existing DVCS tools have no real concept of user accounts. Enterprise customers need robust administration features like auditing and permissions.
Veracity supports these features with a user system built on its decentralized
database engine.</p>

<h3>Pluggable storage layers</h3>

<p>Veracity wraps all the actual storage of a repository in an
API. This allows different implementations to offer different tradeoffs. For
example, an organization may want to use an enterprise SQL database to store
repository data on a central server, while developer desktop machines may use a
simpler filesystem-oriented storage engine.&nbsp; You can push and pull changesets
across different storage implementations seamlessly.</p>

<h3>Hash functions</h3>

<p>Just as with Mercurial and Git, Veracity identifies all
repository objects using a cryptographic hash of the contents. Veracity
supports SHA1 like current tools, but is ready for the future with full support
for SHA2 and Skein, at 256 or even 512 bits.</p>

<p>Veracity's default hash is SHA1.&nbsp; Our dogfooding repo is
SHA2/256.</p>

<h3>Robust tracking for rename and directories</h3>

<p>Like Bazaar, Veracity assigns every repository object an ID
which remains constant when the object is renamed or moved to a different path.
This handles the situation where a developer changes both the contents of a
file and its path in the same transaction, and is a critical feature for robust
merge operations.</p>

<p>Veracity also tracks directories as first-class repository
objects, just like files.</p>

<h3>Cross-Platform C</h3>

<p>From the beginning, we wanted to make it easy to integrate
Veracity into all kinds of other systems on a wide variety of platforms. So we
wrote everything in C, with Windows, Mac OS and Linux all on equal footing. We
love Python too, but C is a lowest common denominator that can be ported or integrated
everywhere we need to go.</p>

<h3>Apache License Version 2.0</h3>

<p>Current DVCS tools do not yet have much penetration with
enterprise customers. &nbsp;This is largely due to lack of features and company
infrastructure.&nbsp; But even if Git or Mercurial were enterprise-ready in every
other way, many companies will hesitate because of the GPL.</p>

<p>We chose the Apache License Version 2.0 (instead of the GPL)
because we wanted there to be no obstacles for Veracity to be adopted in
commercial and enterprise scenarios.</p>

<h2>Open Source? How are you guys gonna make money?</h2>

<p>The core of Veracity will be open source, but we do plan to
sell add-on products built on the core.</p>

<h2>Does this news mean you are abandoning Vault?</h2>

<p>Heck no. Vault is like, 100% of our revenue. And there are
still thousands of teams on SourceSafe that need to be rescued from their
plight.&nbsp; <b>:-)</b></p>

<p>We looked hard at the notion of morphing Vault into a DVCS
and decided it just isn't feasible.&nbsp; If we had forced the square peg into the
round hole, the result would either have fallen short of being a true DVCS or
it would have been an incredibly painful upgrade for Vault customers.</p>

<p>Vault will continue to be supported and improved for
centuries.</p>

<h2>Is Veracity ready for people to actually use?</h2>

<p>Not yet.</p>

<p>We are dogfooding Veracity here at SourceGear, but if anybody
else tries to use it, they'll be frustrated. &nbsp;File formats, command syntax and
APIs are all still in flux.&nbsp; We have a lot of stuff to finish up before we give
it a 1.0 version number.</p>

<p>In the meantime, if you need a DVCS that is ready to use
now, Mercurial, Git and Bazaar offer you three great choices.</p>

<h2>How can I give feedback?</h2>

<p>My blog currently does not have a comments feature, but I
would still welcome feedback from anyone who has something to say.&nbsp; If you want
to say something privately, feel free to email me directly (<a
href="mailto:eric@sourcegear.com">eric@sourcegear.com</a>).&nbsp; Or you can use
Twitter (<a href="http://www.twitter.com/eric_sink">eric_sink</a>).</p>

<p>We'll be hosting a project mailing list which will be opened
next week when the source is released.&nbsp; And we'll have a "modern" website for
the Veracity community a bit later.</p>

<h2>Coming Soon...</h2>

<p>Remember, this is open source stuff, so it's not real until
the source is actually available.&nbsp; That'll happen a week from today with the "official"
announcement.&nbsp; For now, I just wanted to let you know what's coming.</p>