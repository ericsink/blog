<p><tt><b>#ifdef Boy_do_I_feel_sheepish</b></tt></p>
<p>This morning we said that the recently released .NET Framework SP1 breaks compatibility with Vault.&nbsp; It now appears that this was a false alarm.&nbsp; Our testing indicates that Vault is okay on SP1.&nbsp; Details below.</p>
<p><tt><b>#endif</b></tt></p>
<p>We got a little bit too cautious.</p>
<p>Vault uses String.GetHashCode() and stores the results in the repository.&nbsp; Yes, we now know that this is a <a href="http://blogs.msdn.com/brada/archive/2003/09/30/50396.aspx">Bad Idea</a>, but we didn't know that back when Vault was first created.
</p>
<p>It turns out that in current releases of Vault (2.0.5 and prior), if the implementation of String.GetHashCode() changes, <strong>very</strong> bad things happen.&nbsp; The repository gets damaged.</p>
<p>We've known for several months that String.GetHashCode() is going to change in .NET Framework 2.0.&nbsp; We have a plan in place to deal with this situation without causing pain to our customers.</p>
<p>Several weeks ago, somebody told us that the changed version of String.GetHashCode() was actually going to be included in a service pack to the .NET Framework 1.1.&nbsp; We regarded this as a rumor, but a scary one.</p>
<p>Last night, we heard a report from one of our customers.&nbsp; They had installed SP1 and Vault was no longer working properly for them.</p>
<p>So we panicked.&nbsp; We thought we were facing a nightmare situation.&nbsp; All our customers were going to install SP1 and every Vault repository on earth was going to be fouled up.</p>
<p>As it turns out, String.GetHashCode() did not change in SP1.&nbsp; The customer problem was unrelated.&nbsp; The rumor was not true.</p>
<p>I am very sorry for any inconvenience we caused with this false alarm.&nbsp;</p>
<p>But at the same time, I am not sorry.&nbsp; Repository integrity is of paramount importance.&nbsp; We had a credible reason to believe our customers' data was in danger, so we screamed a warning.&nbsp; It all turned out to be a misunderstanding, but we don't feel guilty about being ultra-cautious when it comes to the safety and integrity of data stored in our product.</p>
<p>We still plan to go ahead and release Vault 2.0.6 very shortly.&nbsp; This version and all subsequent versions will no longer be vulnerable to changes in String.GetHashCode().</p>
<p>Bottom line:&nbsp; We got some bad information from our intelligence operatives.&nbsp; This particular crisis has passed, so we are lowering the Terror Alert Level back to "yellow".</p>
<p>&nbsp;</p>